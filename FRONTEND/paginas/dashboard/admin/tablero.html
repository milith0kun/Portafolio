<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Panel Administrador - Sistema de Portafolio Docente UNSAAC</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Dashboard Administrador - Sistema de Portafolio Docente UNSAAC">
  <meta name="keywords" content="administrador, portafolio, gestión, UNSAAC">
  <meta name="author" content="UNSAAC">


  <!-- CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet">
  
  <!-- Estilos personalizados -->
  <link rel="stylesheet" href="../../../assets/css/paginas/admin/tablero/head.css">
  <link rel="stylesheet" href="../../../assets/css/paginas/admin/tablero/body.css">
  <link rel="stylesheet" href="../../../assets/css/paginas/admin/tablero/footer.css">
 
  
</head>

<body>

  <!-- Encabezado -->
  <header class="main-header">
    <div class="header-top">
      <div class="header-top-container">
        <div class="search-container">
          <input type="text" class="search-input" placeholder="Buscar usuarios, ciclos...">
        </div>
        <div class="header-actions">
          <div class="social-icons">
            <a href="https://www.facebook.com/unsaac.oficial" target="_blank" class="social-icon"><i class="fab fa-facebook-f"></i></a>
            <a href="https://twitter.com/unsaac_oficial" target="_blank" class="social-icon"><i class="fab fa-twitter"></i></a>
            <a href="https://www.instagram.com/unsaac_oficial" target="_blank" class="social-icon"><i class="fab fa-instagram"></i></a>
            <a href="https://www.youtube.com/channel/UCunsaac" target="_blank" class="social-icon"><i class="fab fa-youtube"></i></a>
          </div>
        </div>
      </div>
    </div>

    <div class="header-middle">
      <div class="header-middle-container">
        <div class="logo-container">
          <div class="logo-img"></div>
          <div class="logo-text-container">
            <span class="logo-title">Sistema de Portafolio</span>
            <span class="logo-subtitle">Panel Administrador</span>
          </div>
        </div>

        <div class="user-menu" id="userMenu">
          <div class="user-icon">
            <i class="fas fa-user-shield"></i>
          </div>
          <div class="user-info">
            <div class="user-name" id="nombreUsuario">Cargando...</div>
            <div class="user-role" id="rolUsuario">Administrador</div>
          </div>
          <div class="user-actions">
            <div class="role-selector" id="roleSelector">
              <select id="userRoleSelect" class="role-select" title="Cambiar rol">
                <option value="">Cargando roles...</option>
              </select>
              <i class="fas fa-exchange-alt role-icon"></i>
            </div>
            <button type="button" class="dropdown-toggle" id="userDropdownToggle" title="Opciones de usuario">
              <i class="fas fa-chevron-down"></i>
            </button>
          </div>
          
          <!-- Dropdown del usuario -->
          <div class="user-dropdown" id="userDropdown">
            <div class="dropdown-header">
              <div class="dropdown-user-info">
                <div class="dropdown-user-icon">
                  <i class="fas fa-user-shield"></i>
                </div>
                <div class="dropdown-user-details">
                  <span class="dropdown-user-name" id="dropdownUserName">Administrador Sistema</span>
                  <span class="dropdown-user-email" id="dropdownUserEmail">admin@unsaac.edu.pe</span>
                </div>
              </div>
            </div>
            <div class="dropdown-divider"></div>
            <div class="dropdown-body">
              <a href="#" class="dropdown-item" id="profileOption">
                <i class="fas fa-user"></i>
                <span>Mi Perfil</span>
              </a>
              <a href="#" class="dropdown-item" id="settingsOption">
                <i class="fas fa-cog"></i>
                <span>Configuración</span>
              </a>
              <a href="#" class="dropdown-item" id="helpOption">
                <i class="fas fa-question-circle"></i>
                <span>Ayuda</span>
              </a>
            </div>
            <div class="dropdown-divider"></div>
            <div class="dropdown-footer">
              <button type="button" class="dropdown-item logout-item" id="logoutOption">
                <i class="fas fa-sign-out-alt"></i>
                <span>Cerrar Sesión</span>
              </button>
            </div>
          </div>
        </div>
    </div>

    <div class="header-bottom">
      <div class="header-bottom-container">
        <button class="menu-toggle" aria-label="Abrir menú">
          <i class="fas fa-bars"></i>
        </button>
        <!-- Navegación dinámica - se generará automáticamente por el sistema de navegación -->
        <nav class="main-nav">
          <ul class="nav-list" id="sidebarMenu">
            <!-- El menú se generará dinámicamente por navegacion.js -->
          </ul>
        </nav>
      </div>
    </div>
  </header>

  <!-- Contenido principal -->
  <main class="main-content">
    <!-- Estado del sistema para administrador -->
    <section class="system-status-section">
      <div class="status-banner admin-banner">
        <div class="status-content">
          <div class="status-icon">
            <i class="fas fa-info-circle"></i>
          </div>
          <div class="status-text">
            <h3>Estado del Sistema</h3>
            <p id="systemStatusMessage">Cargando información del sistema...</p>
            <div class="system-state-info">
              <span class="state-label">Estado actual:</span>
              <span class="system-status" id="estadoSistema">Configuración</span>
            </div>
          </div>
          <div class="status-indicator">
            <span class="status-badge active" id="systemStatusBadge">Verificando...</span>
          </div>
        </div>
        
        <!-- Información del ciclo académico -->
        <div class="cycle-info">
          <div class="cycle-details">
            <div class="cycle-name-section">
              <span class="cycle-label">Ciclo Activo:</span>
              <span class="cycle-value" id="nombreCiclo">Cargando...</span>
            </div>
            <div class="cycle-dates-section">
              <div class="date-info">
                <i class="fas fa-calendar-start"></i>
                <span class="date-label">Inicio:</span>
                <span class="date-value" id="fechaInicioCiclo">--/--/----</span>
              </div>
              <span class="date-separator">|</span>
              <div class="date-info">
                <i class="fas fa-calendar-end"></i>
                <span class="date-label">Fin:</span>
                <span class="date-value" id="fechaFinCiclo">--/--/----</span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Selector de ciclo académico para administradores -->
        <div class="cycle-management">
          <div class="cycle-selector" id="selectorCiclo">
            <label for="selectCiclo">Cambiar Ciclo Académico:</label>
            <select id="selectCiclo" class="form-control">
              <option value="">Cargando ciclos...</option>
            </select>
          </div>
          <div class="cycle-actions">
            <button id="btnNuevoCiclo" class="btn btn-outline-primary btn-sm">
              <i class="fas fa-plus"></i> Nuevo Ciclo
            </button>
            <button id="btnLimpiarDatos" class="btn btn-outline-warning btn-sm">
              <i class="fas fa-broom"></i> Limpiar Datos Anteriores
            </button>
            <button id="btnInicializarPortafolios" class="btn btn-outline-success btn-sm">
              <i class="fas fa-folder-plus"></i> Inicializar Portafolios
            </button>
            <button id="btnGenerarPortafolios" class="btn btn-outline-primary btn-sm">
              <i class="fas fa-magic"></i> Generar Portafolios
            </button>
                                    <a href="ciclos.html" class="btn btn-secondary btn-sm">
              <i class="fas fa-cog"></i> Gestionar Ciclos
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Dashboard del administrador -->
    <section class="dashboard-overview">
      <div class="dashboard-cards">
        <div class="dashboard-card users-card">
          <div class="card-header">
            <h3><i class="fas fa-users"></i> Usuarios del Sistema</h3>
          </div>
          <div class="card-content">
            <div class="stats-container">
              <div class="stat-item">
                <div class="stat-value" id="totalUsers">0</div>
                <div class="stat-label">Total Usuarios</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="activeUsers">0</div>
                <div class="stat-label">Activos</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="pendingUsers">0</div>
                <div class="stat-label">Pendientes</div>
              </div>
            </div>
            <div class="roles-distribution">
              <div class="role-item">
                <span class="role-name">Docentes:</span>
                <span class="role-count" id="teacherCount">0</span>
              </div>
              <div class="role-item">
                <span class="role-name">Verificadores:</span>
                <span class="role-count" id="verifierCount">0</span>
              </div>
              <div class="role-item">
                <span class="role-name">Administradores:</span>
                <span class="role-count" id="adminCount">0</span>
              </div>
            </div>
          </div>
          <div class="card-action">
                                <a href="usuarios.html" class="btn btn-primary">Gestionar Usuarios</a>
          </div>
        </div>



        <div class="dashboard-card notifications-card">
          <div class="card-header">
            <h3><i class="fas fa-bell"></i> Notificaciones del Sistema</h3>
          </div>
          <div class="card-content">
            <div class="notifications-list" id="systemNotifications">
              <!-- Se cargará dinámicamente -->
            </div>
          </div>
          <div class="card-action">
            <a href="../compartidas/notificaciones.html" class="btn btn-info">Ver Todas</a>
          </div>
        </div>

        <div class="dashboard-card stats-card">
          <div class="card-header">
            <h3><i class="fas fa-chart-bar"></i> Estadísticas Generales</h3>
          </div>
          <div class="card-content">
            <div class="stats-grid">
              <div class="stat-box">
                <div class="stat-icon"><i class="fas fa-file-upload"></i></div>
                <div class="stat-info">
                  <div class="stat-value" id="totalDocuments">0</div>
                  <div class="stat-label">Documentos</div>
                </div>
              </div>
              <div class="stat-box">
                <div class="stat-icon"><i class="fas fa-check-circle"></i></div>
                <div class="stat-info">
                  <div class="stat-value" id="approvedDocuments">0</div>
                  <div class="stat-label">Aprobados</div>
                </div>
              </div>
              <div class="stat-box">
                <div class="stat-icon"><i class="fas fa-clock"></i></div>
                <div class="stat-info">
                  <div class="stat-value" id="pendingDocuments">0</div>
                  <div class="stat-label">Pendientes</div>
                </div>
              </div>
              <div class="stat-box">
                <div class="stat-icon"><i class="fas fa-comment-dots"></i></div>
                <div class="stat-info">
                  <div class="stat-value" id="observedDocuments">0</div>
                  <div class="stat-label">Observados</div>
                </div>
              </div>
            </div>
          </div>
          <div class="card-action">
                                <a href="reportes.html" class="btn btn-warning">Ver Reportes</a>
          </div>
        </div>

        <div class="dashboard-card portafolios-card">
          <div class="card-header">
            <h3><i class="fas fa-folder-open"></i> Gestión de Portafolios</h3>
          </div>
          <div class="card-content">
            <div class="stats-container">
              <div class="stat-item">
                <div class="stat-value" id="totalPortafolios">0</div>
                <div class="stat-label">Total Portafolios</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="activePortafolios">0</div>
                <div class="stat-label">Activos</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="completedPortafolios">0</div>
                <div class="stat-label">Completados</div>
              </div>
            </div>
            <div class="portafolios-summary">
              <div class="summary-item">
                <span class="summary-label">Progreso promedio:</span>
                <span class="summary-value" id="averageProgress">0%</span>
              </div>
              <div class="summary-item">
                <span class="summary-label">En verificación:</span>
                <span class="summary-value" id="inVerificationPortafolios">0</span>
              </div>
            </div>
          </div>
          <div class="card-action">
            <a href="portafolios.html" class="btn btn-success">Gestionar Portafolios</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Sección de actividad reciente -->
    <section class="recent-activity-section">
      <h2>📊 Actividad Reciente</h2>
      <div class="activity-container">
        <div class="activity-filters">
          <button class="filter-btn active" data-filter="all">Todos</button>
          <button class="filter-btn" data-filter="users">Usuarios</button>
          <button class="filter-btn" data-filter="documents">Documentos</button>
          <button class="filter-btn" data-filter="system">Sistema</button>
        </div>
        <div class="activity-list" id="activityList">
          <!-- Se cargará dinámicamente -->
          <div class="activity-item">
            <div class="activity-icon"><i class="fas fa-user-plus"></i></div>
            <div class="activity-content">
              <div class="activity-title">Nuevo usuario registrado</div>
              <div class="activity-details">Juan Pérez (Docente) se ha registrado en el sistema</div>
              <div class="activity-time">Hace 2 horas</div>
            </div>
          </div>
          <div class="activity-item">
            <div class="activity-icon"><i class="fas fa-file-upload"></i></div>
            <div class="activity-content">
              <div class="activity-title">Documentos subidos</div>
              <div class="activity-details">15 nuevos documentos subidos en las últimas 24 horas</div>
              <div class="activity-time">Hace 5 horas</div>
            </div>
          </div>
          <div class="activity-item">
            <div class="activity-icon"><i class="fas fa-cog"></i></div>
            <div class="activity-content">
              <div class="activity-title">Configuración actualizada</div>
              <div class="activity-details">Se actualizaron los plazos de entrega para el ciclo 2025-I</div>
              <div class="activity-time">Hace 1 día</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Acciones rápidas -->
    <section class="quick-actions">
      <h2>Acciones Rápidas</h2>
      <div class="actions-grid">
                        <a href="usuarios.html" class="action-card users-action">
          <div class="action-icon">
            <i class="fas fa-user-plus"></i>
          </div>
          <div class="action-content">
            <h3>Nuevo Usuario</h3>
            <p>Crear cuenta de usuario en el sistema</p>
          </div>
        </a>

                  <a href="ciclos.html" class="action-card cycle-action">
          <div class="action-icon">
            <i class="fas fa-calendar-plus"></i>
          </div>
          <div class="action-content">
            <h3>Nuevo Ciclo</h3>
            <p>Configurar un nuevo ciclo académico</p>
          </div>
        </a>

                  <a href="asignaturas.html" class="action-card assignment-action">
          <div class="action-icon">
            <i class="fas fa-tasks"></i>
          </div>
          <div class="action-content">
            <h3>Asignaturas</h3>
            <p>Gestionar asignaturas del sistema</p>
          </div>
        </a>

                  <a href="reportes.html" class="action-card reports-action">
          <div class="action-icon">
            <i class="fas fa-chart-pie"></i>
          </div>
          <div class="action-content">
            <h3>Reportes</h3>
            <p>Generar informes y estadísticas</p>
          </div>
        </a>
      </div>
    </section>

    <!-- Sección de Portafolios -->
    <section class="portafolios-section">
      <h2>📁 Gestión de Portafolios</h2>
      <div class="portafolios-container">
        <div class="portafolios-header">
          <div class="portafolios-stats">
            <div class="stat-card">
              <i class="fas fa-folder-open"></i>
              <div class="stat-info">
                <span class="stat-number" id="totalPortafolios">0</span>
                <span class="stat-label">Total</span>
              </div>
            </div>
            <div class="stat-card">
              <i class="fas fa-check-circle text-success"></i>
              <div class="stat-info">
                <span class="stat-number" id="activePortafolios">0</span>
                <span class="stat-label">Activos</span>
              </div>
            </div>
            <div class="stat-card">
              <i class="fas fa-clock text-warning"></i>
              <div class="stat-info">
                <span class="stat-number" id="completedPortafolios">0</span>
                <span class="stat-label">Completados</span>
              </div>
            </div>
            <div class="stat-card">
              <i class="fas fa-chart-line text-info"></i>
              <div class="stat-info">
                <span class="stat-number" id="averageProgress">0%</span>
                <span class="stat-label">Progreso</span>
              </div>
            </div>
          </div>
          <div class="portafolios-actions">
            <button id="btnActualizarPortafolios" class="btn btn-outline-primary">
              <i class="fas fa-sync-alt"></i> Actualizar
            </button>
            <button id="btnGenerarTodosPortafolios" class="btn btn-success">
              <i class="fas fa-plus"></i> Generar Todos
            </button>
          </div>
        </div>
        
        <div class="portafolios-list-container">
          <div class="portafolios-filters">
            <button class="filter-btn active" data-filter="all">Todos</button>
            <button class="filter-btn" data-filter="aprobado">Aprobados</button>
            <button class="filter-btn" data-filter="pendiente">Pendientes</button>
            <button class="filter-btn" data-filter="observado">Observados</button>
          </div>
          
          <div id="listaPortafolios" class="portafolios-grid">
            <!-- Los portafolios se cargarán dinámicamente aquí -->
            <div class="loading-portafolios">
              <i class="fas fa-spinner fa-spin"></i>
              <p>Cargando portafolios...</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    
    <!-- Sección de Inicialización del Sistema -->
    <section class="system-init-section">
      <h2>🔧 Inicialización del Sistema</h2>
      <div class="init-container">
        <div class="init-card">
          <div class="init-icon">
            <i class="fas fa-file-excel"></i>
          </div>
          <div class="init-content">
            <h3>Inicialización del Sistema</h3>
            <p>Realice la carga masiva de datos del sistema a través de la sección de Carga Masiva. Aquí puede cargar archivos Excel con información de usuarios, asignaturas, ciclos académicos y más.</p>
            
            <div class="init-action">
                                  <a href="carga-masiva.html" class="btn btn-primary btn-lg">
                <i class="fas fa-upload"></i>Ir a Carga Masiva
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Pie de página -->
  <footer class="main-footer">
    <div class="footer-container">
      <div class="footer-content">
        <div class="footer-info">
          <p>2025 Sistema de Portafolio Docente. Todos los derechos reservados.</p>
        </div>
        <div class="footer-links">
          <a href="#">Términos y Condiciones</a>
          <a href="#">Política de Privacidad</a>  
          <a href="../compartidas/ayuda.html">Ayuda</a>
        </div>
      </div>
      
      <div class="footer-additional">
        <div class="footer-additional-content">
          <div class="system-info">
            <div class="status-indicator">Sistema Operativo</div>
            <span>Última actualización: <span class="timestamp" id="lastUpdate">Cargando...</span></span>
          </div>
          <div class="additional-links">
            <a href="#"><i class="fas fa-question-circle"></i> Soporte</a>
            <a href="#"><i class="fas fa-book"></i> Documentación</a>
          </div>
        </div>
      </div>
      
      <div class="footer-bottom">
        <div class="footer-bottom-content">
          <p>Universidad Nacional de San Antonio Abad del Cusco - UNSAAC</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Indicador de carga -->
  <div id="loadingOverlay" class="loading-overlay">
    <div class="spinner-border text-light" role="status">
      <span class="visually-hidden">Cargando...</span>
    </div>
  </div>

  <!-- Indicador de generación de portafolios -->
  <div id="indicadorGeneracion" class="generation-overlay" style="display: none;">
    <div class="generation-content">
      <div class="spinner-border text-primary" role="status"></div>
      <h4>Generando Portafolios</h4>
      <p>Por favor espere mientras se procesan los portafolios...</p>
    </div>
  </div>

  <!-- Scripts Core -->
  <script src="../../../assets/js/nucleo/configuracion.js"></script>
  <script src="../../../assets/js/nucleo/auth.js"></script>
  <script src="../../../assets/js/nucleo/gestion-usuario-ui.js"></script>
  <script src="../../../assets/js/nucleo/navegacion.js"></script>
  <script src="../../../assets/js/nucleo/gestion-sesiones.js"></script>
  <script src="../../../assets/js/nucleo/sincronizacion-ciclos.js"></script>
  <script src="../../../assets/js/nucleo/generacion-portafolios.js"></script>
  
  <!-- Admin Auth System -->
  <script src="../../../assets/js/paginas/dashboard/admin/admin-auth.js"></script>
  
  <!-- Sistema Tablero Modular -->
  <script src="../../../assets/js/paginas/dashboard/admin/tablero/core.js"></script>
  <script src="../../../assets/js/paginas/dashboard/admin/tablero/data.js"></script>
  <script src="../../../assets/js/paginas/dashboard/admin/tablero/ui.js"></script>
  <script src="../../../assets/js/paginas/dashboard/admin/tablero/eventos.js"></script>
  <script src="../../../assets/js/paginas/dashboard/admin/tablero/index.js"></script>


</body>
</html>